package runnerPackage;

import java.io.IOException;
import java.lang.reflect.Method;
import org.apache.log4j.*;
import org.testng.ITestResult;
import org.testng.annotations.AfterMethod;
import org.testng.annotations.AfterSuite;
import org.testng.annotations.BeforeMethod;
import org.testng.annotations.BeforeSuite;
import org.testng.annotations.BeforeTest;
import org.testng.annotations.Test;
import cars.wjv.ui.pom.ATMHomepageUI;
import cars.wjv.ui.pom.NewTransactionsUI;
import resources.LogHelper;
import testbase.Base;
import utilities.CommonFunctions;

public class TestRunner{ 

	public static Logger log = LogHelper.getLogger(TestRunner.class); 
	static CommonFunctions commonHelper;
	
	@BeforeSuite(alwaysRun = true)
	public void preCondition() throws Exception{
		Base.foreRunner();
	}
		
	@BeforeTest
	public void beforeTest() throws Exception{
		Base.initializedAll();
	//	Base.runBeforeAnyClass();
	}
	
	@BeforeMethod
	public void beforeMethod(Method method) {
		Base.getMethodInformation(method);	
	}
	
	@AfterMethod()
	public void testsResult(ITestResult method) throws IOException {
		Base.testResult(method);
	}
	
	@AfterSuite(alwaysRun = true)
	public void runAfterSuite() throws Exception{
		Base.flushTestReportToFile();
	}
	
	@Test(priority = 1)
	public void test_Scenario_001() throws Exception {
		log.info("...............Test_Scenario_001 started...................");
		new ATMHomepageUI(Base.driver).newTransaction();
		new NewTransactionsUI(Base.driver).newWJVCreatePageScenario1();
		log.info("...............Test_Scenario_001 completed...................");
	}

	
	  @Test (priority=2) 
	  public void test_Scenario_002 () throws InterruptedException {
	  log.info("...............Test_Scenario_002 started..................."); 
	  new ATMHomepageUI(Base.driver).newTransaction(); 
	  new NewTransactionsUI(Base.driver).newWJVCreatePageScenario2();
	  log.info("...............Test_Scenario_002 completed..................."	 ); 
	 }
	  
}
